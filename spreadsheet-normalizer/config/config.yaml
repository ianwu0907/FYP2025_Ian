# Spreadsheet Normalizer Configuration (Enhanced)
# Using LLM semantic reasoning for generalized normalization

# LLM Configuration
llm:
  llm_provider: 'gemini'  # â† æ”¹è¿™é‡Œï¼
  model: 'gemini-2.0-flash'  # â† æ”¹è¿™é‡Œï¼
  temperature: 0
  max_tokens: 4000

# Encoder Configuration (SpreadsheetLLM)
encoder:
  anchor_neighborhood: 4
  detect_subtables: true
  data_only: true
  max_value_len: 200
  min_nonempty_cells_for_region: 8
  
  # ğŸ”¥ å­è¡¨æ ¼æ£€æµ‹ï¼ˆæ–°åŠŸèƒ½ï¼‰
  detect_color_subtables: true   # å¯ç”¨é¢œè‰²æ£€æµ‹
  subtable_min_gap: 2            # å­è¡¨æ ¼æœ€å°é—´éš”

# ===== è¡¨æ ¼åˆ†å‰²é…ç½® =====
table_splitting:
  enabled: true
  processing_mode: "separate"  # "separate" æˆ– "combined"
  
logging:
  level: "INFO"
  save_intermediate: true
  output_dir: "output"
  save_encoded: true
  save_strategy: true
  save_code: true
  save_validation: true



# Structure Analyzer Configuration (Enhanced)
analyzer:
  # ç°æœ‰é…ç½®
  detect_headers: true
  detect_aggregates: true
  detect_implicit_aggregates: true
  
  # ğŸ”¥ é¢œè‰²æ£€æµ‹é…ç½®ï¼ˆä¸“é—¨ä¸ºä½ çš„æ ¼å¼ä¼˜åŒ–ï¼‰
  use_color_detection: true
  color_threshold: 0.1      # 10% å³å¯ï¼ˆä½ çš„æ•°æ®é€šå¸¸æ¯è¡Œåªæœ‰ 1 ä¸ªé«˜äº®å•å…ƒæ ¼ï¼‰
  min_colored_cells: 1      # è‡³å°‘ 1 ä¸ªå•å…ƒæ ¼
  
  llm_provider: "gemini"
  model: "gemini-2.0-flash-exp"

# Schema Estimator Configuration (Enhanced)
estimator:
  # Now uses free-form LLM reasoning based on tidy data principles
  # No hardcoded templates - LLM derives schema semantically
  temperature: 0.1
  max_completion_tokens: 4000

# Transformation Generator Configuration (Enhanced)
generator:
  # Two-stage approach: Strategy â†’ Code
  max_retries: 3
  temperature: 0.1
  max_completion_tokens: 6000

# Output Configuration
output:
  format: csv
  encoding: utf-8
  index: false

# Logging Configuration
logging:
  level: INFO
  save_intermediate: true
  output_dir: output
